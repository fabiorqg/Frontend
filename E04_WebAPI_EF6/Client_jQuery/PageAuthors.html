<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Consuming web API From jQuery - Authors</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>

    <script>
        
        $(document).ready(function () {

            // vai ser chamada a ação getAuthors da web api

            var ulAuthors = $('#ulAuthors');
            $('#buttonGetAuthors').click(function () {
                $.ajax({
                    type: 'GET',
                    url: "/api/author/getauthors",
                    dataType: 'json',
                    success: function (data) {
                        ulAuthors.empty();
                        $.each(data, function (index, val) {
                            ulAuthors.append('<li> Author: ' + val.AuthorId + ', ' + val.Name + '</li>');
                        });
                    }
                });
            });
            $('#buttonClearAuthors').click(function () {
                ulAuthors.empty();
            });

        }); // ponto e virgula não é obrigatorio. Mas pode usar-se caso tenha outro bloco a seguir.

    </script>
</head>
<body>
    <div>
        <input id="buttonGetAuthors" type="button" value="Get All Authors" />
        <input id="buttonClearAuthors" type="button" value="Clear Authors" />
        <br />
        <ul id="ulAuthors" />
    </div>
</body>
</html>